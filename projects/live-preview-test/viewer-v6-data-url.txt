data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEiPgogIDx0aXRsZT5FbmNyeXB0ZWQgUHJldmlldyB2NjwvdGl0bGU+CiAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvcmdlLzAuMTAuMC9mb3JnZS5taW4uanMiPjwvc2NyaXB0PgogIDxzdHlsZT4KICAgICp7bWFyZ2luOjA7Ym94LXNpemluZzpib3JkZXItYm94fQogICAgYm9keXtmb250OjE0cHggc3lzdGVtLXVpO2JhY2tncm91bmQ6IzBkMTExNztjb2xvcjojYzlkMWQ5O21pbi1oZWlnaHQ6MTAwdmh9CiAgICAuc2V0dXB7bWF4LXdpZHRoOjQwMHB4O21hcmdpbjo0MHB4IGF1dG87cGFkZGluZzoyMHB4fQogICAgaDJ7Y29sb3I6IzU4YTZmZjttYXJnaW4tYm90dG9tOjhweH0KICAgIHB7Y29sb3I6IzhiOTQ5ZTtmb250LXNpemU6MTNweDttYXJnaW4tYm90dG9tOjE2cHh9CiAgICBsYWJlbHtkaXNwbGF5OmJsb2NrO2NvbG9yOiM4Yjk0OWU7Zm9udC1zaXplOjEycHg7bWFyZ2luLWJvdHRvbTo0cHh9CiAgICBpbnB1dHt3aWR0aDoxMDAlO3BhZGRpbmc6MTBweDttYXJnaW4tYm90dG9tOjEycHg7YmFja2dyb3VuZDojMTYxYjIyO2JvcmRlcjoxcHggc29saWQgIzMwMzYzZDtjb2xvcjojYzlkMWQ5O2JvcmRlci1yYWRpdXM6NnB4O2ZvbnQtc2l6ZToxNHB4fQogICAgaW5wdXQ6Zm9jdXN7b3V0bGluZTpub25lO2JvcmRlci1jb2xvcjojNThhNmZmfQogICAgYnV0dG9ue3dpZHRoOjEwMCU7cGFkZGluZzoxMnB4O2JhY2tncm91bmQ6IzIzODYzNjtjb2xvcjojZmZmO2JvcmRlcjowO2JvcmRlci1yYWRpdXM6NnB4O2ZvbnQtc2l6ZToxNHB4O2N1cnNvcjpwb2ludGVyO2ZvbnQtd2VpZ2h0OjUwMH0KICAgIGJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kOiMyZWEwNDN9CiAgICBidXR0b246ZGlzYWJsZWR7YmFja2dyb3VuZDojMjEyNjJkO2NvbG9yOiM0ODRmNTg7Y3Vyc29yOm5vdC1hbGxvd2VkfQogICAgLmhlYWRlcntiYWNrZ3JvdW5kOiMxNjFiMjI7cGFkZGluZzo4cHggMTZweDtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxMnB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMzMDM2M2R9CiAgICAuZG90e3dpZHRoOjhweDtoZWlnaHQ6OHB4O2JvcmRlci1yYWRpdXM6NTAlO2JhY2tncm91bmQ6IzNmYjk1MH0KICAgIC5kb3QuZXJye2JhY2tncm91bmQ6I2Y4NTE0OX0KICAgIC5kb3QubG9hZHtiYWNrZ3JvdW5kOiNkMjk5MjJ9CiAgICAuc3RhdHVze2ZsZXg6MTtmb250LXNpemU6MTJweDtjb2xvcjojOGI5NDllfQogICAgLmJ0bntiYWNrZ3JvdW5kOiMyMTI2MmQ7Y29sb3I6I2M5ZDFkOTtib3JkZXI6MXB4IHNvbGlkICMzMDM2M2Q7cGFkZGluZzo2cHggMTJweDtib3JkZXItcmFkaXVzOjZweDtmb250LXNpemU6MTJweDtjdXJzb3I6cG9pbnRlcn0KICAgIC5idG46aG92ZXJ7YmFja2dyb3VuZDojMzAzNjNkfQogICAgaWZyYW1le3dpZHRoOjEwMCU7aGVpZ2h0OmNhbGMoMTAwdmggLSA0NHB4KTtib3JkZXI6MDtiYWNrZ3JvdW5kOiNmZmZ9CiAgICAuZXJyb3J7YmFja2dyb3VuZDojZjg1MTQ5MjI7Ym9yZGVyOjFweCBzb2xpZCAjZjg1MTQ5O2NvbG9yOiNmODUxNDk7cGFkZGluZzoxMnB4O2JvcmRlci1yYWRpdXM6NnB4O21hcmdpbi10b3A6MTJweDtmb250LXNpemU6MTNweH0KICAgIC5sb2Nre2ZvbnQtc2l6ZTozMnB4O3RleHQtYWxpZ246Y2VudGVyO21hcmdpbi1ib3R0b206MTZweH0KICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogIDxkaXYgaWQ9InNldHVwIiBjbGFzcz0ic2V0dXAiPgogICAgPGRpdiBjbGFzcz0ibG9jayI+8J+UkDwvZGl2PgogICAgPGgyPkVuY3J5cHRlZCBQcmV2aWV3PC9oMj4KICAgIDxwPkNvbnRlbnQgaXMgZW5jcnlwdGVkLiBFbnRlciB5b3VyIEdpc3QgSUQgYW5kIHBhc3N3b3JkIHRvIHZpZXcuPC9wPgoKICAgIDxsYWJlbD5HaXN0IElEPC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZ2lzdCIgcGxhY2Vob2xkZXI9ImFiYzEyM2RlZjQ1Ni4uLiI+CgogICAgPGxhYmVsPlBhc3N3b3JkPC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9InBhc3MiIHBsYWNlaG9sZGVyPSJFbnRlciBkZWNyeXB0aW9uIHBhc3N3b3JkIj4KCiAgICA8YnV0dG9uIGlkPSJzdGFydEJ0biIgb25jbGljaz0ic3RhcnQoKSI+RGVjcnlwdCAmIFdhdGNoPC9idXR0b24+CiAgICA8ZGl2IGlkPSJlcnJvciIgY2xhc3M9ImVycm9yIiBzdHlsZT0iZGlzcGxheTpub25lIj48L2Rpdj4KICA8L2Rpdj4KCiAgPGRpdiBpZD0idmlld2VyIiBzdHlsZT0iZGlzcGxheTpub25lIj4KICAgIDxkaXYgY2xhc3M9ImhlYWRlciI+CiAgICAgIDxkaXYgY2xhc3M9ImRvdCIgaWQ9ImRvdCI+PC9kaXY+CiAgICAgIDxzcGFuIGNsYXNzPSJzdGF0dXMiIGlkPSJzdGF0dXMiPkNvbm5lY3RpbmcuLi48L3NwYW4+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biIgb25jbGljaz0icmVmcmVzaCgpIj5SZWZyZXNoPC9idXR0b24+CiAgICAgIDxidXR0b24gY2xhc3M9ImJ0biIgb25jbGljaz0ic3RvcCgpIj5TdG9wPC9idXR0b24+CiAgICA8L2Rpdj4KICAgIDxpZnJhbWUgaWQ9ImZyYW1lIj48L2lmcmFtZT4KICA8L2Rpdj4KCiAgPHNjcmlwdD4KICAgIGxldCBnaXN0SWQgPSAnJywgcGFzc3dvcmQgPSAnJywgbGFzdENvbnRlbnQgPSAnJywgaW50ZXJ2YWw7CgogICAgLy8gQ2hlY2sgVVJMIHBhcmFtcwogICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhsb2NhdGlvbi5zZWFyY2gpOwogICAgaWYgKHBhcmFtcy5nZXQoJ2cnKSkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dpc3QnKS52YWx1ZSA9IHBhcmFtcy5nZXQoJ2cnKTsKCiAgICBmdW5jdGlvbiBkZWNyeXB0KGVuY3J5cHRlZEJhc2U2NCwgcGFzc3dvcmQpIHsKICAgICAgdHJ5IHsKICAgICAgICAvLyBEZWNvZGUgYmFzZTY0CiAgICAgICAgY29uc3QgZGF0YSA9IGZvcmdlLnV0aWwuZGVjb2RlNjQoZW5jcnlwdGVkQmFzZTY0KTsKCiAgICAgICAgLy8gUGFyc2U6IHNhbHQgKDE2KSArIGl2ICgxMikgKyBhdXRoVGFnICgxNikgKyBjaXBoZXJ0ZXh0CiAgICAgICAgY29uc3Qgc2FsdCA9IGRhdGEuc3Vic3RyaW5nKDAsIDE2KTsKICAgICAgICBjb25zdCBpdiA9IGRhdGEuc3Vic3RyaW5nKDE2LCAyOCk7CiAgICAgICAgY29uc3QgYXV0aFRhZyA9IGRhdGEuc3Vic3RyaW5nKDI4LCA0NCk7CiAgICAgICAgY29uc3QgY2lwaGVydGV4dCA9IGRhdGEuc3Vic3RyaW5nKDQ0KTsKCiAgICAgICAgLy8gRGVyaXZlIGtleSB1c2luZyBQQktERjIKICAgICAgICBjb25zdCBrZXkgPSBmb3JnZS5wa2NzNS5wYmtkZjIocGFzc3dvcmQsIHNhbHQsIDEwMDAwMCwgMzIsICdzaGEyNTYnKTsKCiAgICAgICAgLy8gRGVjcnlwdCB1c2luZyBBRVMtR0NNCiAgICAgICAgY29uc3QgZGVjaXBoZXIgPSBmb3JnZS5jaXBoZXIuY3JlYXRlRGVjaXBoZXIoJ0FFUy1HQ00nLCBrZXkpOwogICAgICAgIGRlY2lwaGVyLnN0YXJ0KHsKICAgICAgICAgIGl2OiBpdiwKICAgICAgICAgIHRhZzogZm9yZ2UudXRpbC5jcmVhdGVCdWZmZXIoYXV0aFRhZykKICAgICAgICB9KTsKICAgICAgICBkZWNpcGhlci51cGRhdGUoZm9yZ2UudXRpbC5jcmVhdGVCdWZmZXIoY2lwaGVydGV4dCkpOwoKICAgICAgICBpZiAoIWRlY2lwaGVyLmZpbmlzaCgpKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGZhaWxlZCcpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGRlY2lwaGVyLm91dHB1dC50b1N0cmluZygndXRmOCcpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWNyeXB0aW9uIGZhaWxlZCAtIHdyb25nIHBhc3N3b3JkPycpOwogICAgICB9CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbmRSZW5kZXIoKSB7CiAgICAgIGNvbnN0IGRvdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3QnKTsKICAgICAgY29uc3Qgc3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cycpOwogICAgICBkb3QuY2xhc3NOYW1lID0gJ2RvdCBsb2FkJzsKCiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vZ2lzdHMvJyArIGdpc3RJZCwgewogICAgICAgICAgaGVhZGVyczogeyAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL3ZuZC5naXRodWIudjMranNvbicgfSwKICAgICAgICAgIGNhY2hlOiAnbm8tc3RvcmUnCiAgICAgICAgfSk7CgogICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZldGNoIGZhaWxlZDogJyArIHJlcy5zdGF0dXMpOwoKICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgICBjb25zdCBmaWxlcyA9IGRhdGEuZmlsZXM7CiAgICAgICAgY29uc3QgZW5jcnlwdGVkID0gZmlsZXNbT2JqZWN0LmtleXMoZmlsZXMpWzBdXS5jb250ZW50LnRyaW0oKTsKICAgICAgICBjb25zdCByZXYgPSBkYXRhLmhpc3RvcnlbMF0udmVyc2lvbi5zdWJzdHJpbmcoMCwgNyk7CgogICAgICAgIGlmIChlbmNyeXB0ZWQgIT09IGxhc3RDb250ZW50KSB7CiAgICAgICAgICBsYXN0Q29udGVudCA9IGVuY3J5cHRlZDsKICAgICAgICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICdEZWNyeXB0aW5nLi4uJzsKCiAgICAgICAgICBjb25zdCBodG1sID0gZGVjcnlwdChlbmNyeXB0ZWQsIHBhc3N3b3JkKTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcmFtZScpLnNyY2RvYyA9IGh0bWw7CiAgICAgICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSAnVXBkYXRlZCAocmV2OiAnICsgcmV2ICsgJykgJyArIG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICdXYXRjaGluZyAocmV2OiAnICsgcmV2ICsgJykgJyArIG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7CiAgICAgICAgfQogICAgICAgIGRvdC5jbGFzc05hbWUgPSAnZG90JzsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlbmRlciBlcnJvcjonLCBlKTsKICAgICAgICBkb3QuY2xhc3NOYW1lID0gJ2RvdCBlcnInOwogICAgICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICdFcnJvcjogJyArIChlLm1lc3NhZ2UgfHwgU3RyaW5nKGUpKTsKICAgICAgfQogICAgfQoKICAgIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRCdG4nKTsKICAgICAgY29uc3QgZXJyRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yJyk7CiAgICAgIGVyckRpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwoKICAgICAgZ2lzdElkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dpc3QnKS52YWx1ZS50cmltKCk7CiAgICAgIHBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3MnKS52YWx1ZTsKCiAgICAgIC8vIEV4dHJhY3QgSUQgaWYgZnVsbCBVUkwgcGFzdGVkCiAgICAgIGlmIChnaXN0SWQuaW5jbHVkZXMoJ2dpdGh1Yi5jb20nKSkgZ2lzdElkID0gZ2lzdElkLnNwbGl0KCcvJykucG9wKCk7CiAgICAgIGlmIChnaXN0SWQuaW5jbHVkZXMoJ2dpc3QuZ2l0aHVidXNlcmNvbnRlbnQnKSkgZ2lzdElkID0gZ2lzdElkLnNwbGl0KCcvJylbNF07CgogICAgICBpZiAoIWdpc3RJZCB8fCAhcGFzc3dvcmQpIHsKICAgICAgICBlcnJEaXYudGV4dENvbnRlbnQgPSAnUGxlYXNlIGVudGVyIGJvdGggR2lzdCBJRCBhbmQgcGFzc3dvcmQnOwogICAgICAgIGVyckRpdi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgIGJ0bi50ZXh0Q29udGVudCA9ICdDb25uZWN0aW5nLi4uJzsKCiAgICAgIHRyeSB7CiAgICAgICAgLy8gVGVzdCBmZXRjaCBhbmQgZGVjcnlwdAogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwczovL2FwaS5naXRodWIuY29tL2dpc3RzLycgKyBnaXN0SWQsIHsKICAgICAgICAgIGNhY2hlOiAnbm8tc3RvcmUnCiAgICAgICAgfSk7CiAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcignR2lzdCBub3QgZm91bmQnKTsKCiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICAgICAgY29uc3QgZW5jcnlwdGVkID0gZGF0YS5maWxlc1tPYmplY3Qua2V5cyhkYXRhLmZpbGVzKVswXV0uY29udGVudC50cmltKCk7CgogICAgICAgIC8vIFRlc3QgZGVjcnlwdGlvbgogICAgICAgIGRlY3J5cHQoZW5jcnlwdGVkLCBwYXNzd29yZCk7CgogICAgICAgIC8vIFN1Y2Nlc3MgLSBzd2l0Y2ggdG8gdmlld2VyCiAgICAgICAgdHJ5IHsgaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sICcnLCAnP2c9JyArIGdpc3RJZCk7IH0gY2F0Y2goZSkge30KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0dXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgICAgICAgZmV0Y2hBbmRSZW5kZXIoKTsKICAgICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGZldGNoQW5kUmVuZGVyLCAzMDAwKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0YXJ0IGVycm9yOicsIGUpOwogICAgICAgIGVyckRpdi50ZXh0Q29udGVudCA9IGUubWVzc2FnZSB8fCBTdHJpbmcoZSk7CiAgICAgICAgZXJyRGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIGJ0bi50ZXh0Q29udGVudCA9ICdEZWNyeXB0ICYgV2F0Y2gnOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7CiAgICAgIGxhc3RDb250ZW50ID0gJyc7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXR1cCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlld2VyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0QnRuJykuZGlzYWJsZWQgPSBmYWxzZTsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0QnRuJykudGV4dENvbnRlbnQgPSAnRGVjcnlwdCAmIFdhdGNoJzsKICAgIH0KCiAgICBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICBsYXN0Q29udGVudCA9ICcnOwogICAgICBmZXRjaEFuZFJlbmRlcigpOwogICAgfQogIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4K
