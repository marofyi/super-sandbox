data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEiPgogIDx0aXRsZT5FbmNyeXB0ZWQgUHJldmlldyB2NTwvdGl0bGU+CiAgPHN0eWxlPgogICAgKnttYXJnaW46MDtib3gtc2l6aW5nOmJvcmRlci1ib3h9CiAgICBib2R5e2ZvbnQ6MTRweCBzeXN0ZW0tdWk7YmFja2dyb3VuZDojMGQxMTE3O2NvbG9yOiNjOWQxZDk7bWluLWhlaWdodDoxMDB2aH0KICAgIC5zZXR1cHttYXgtd2lkdGg6NDAwcHg7bWFyZ2luOjQwcHggYXV0bztwYWRkaW5nOjIwcHh9CiAgICBoMntjb2xvcjojNThhNmZmO21hcmdpbi1ib3R0b206OHB4fQogICAgcHtjb2xvcjojOGI5NDllO2ZvbnQtc2l6ZToxM3B4O21hcmdpbi1ib3R0b206MTZweH0KICAgIGxhYmVse2Rpc3BsYXk6YmxvY2s7Y29sb3I6IzhiOTQ5ZTtmb250LXNpemU6MTJweDttYXJnaW4tYm90dG9tOjRweH0KICAgIGlucHV0e3dpZHRoOjEwMCU7cGFkZGluZzoxMHB4O21hcmdpbi1ib3R0b206MTJweDtiYWNrZ3JvdW5kOiMxNjFiMjI7Ym9yZGVyOjFweCBzb2xpZCAjMzAzNjNkO2NvbG9yOiNjOWQxZDk7Ym9yZGVyLXJhZGl1czo2cHg7Zm9udC1zaXplOjE0cHh9CiAgICBpbnB1dDpmb2N1c3tvdXRsaW5lOm5vbmU7Ym9yZGVyLWNvbG9yOiM1OGE2ZmZ9CiAgICBidXR0b257d2lkdGg6MTAwJTtwYWRkaW5nOjEycHg7YmFja2dyb3VuZDojMjM4NjM2O2NvbG9yOiNmZmY7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czo2cHg7Zm9udC1zaXplOjE0cHg7Y3Vyc29yOnBvaW50ZXI7Zm9udC13ZWlnaHQ6NTAwfQogICAgYnV0dG9uOmhvdmVye2JhY2tncm91bmQ6IzJlYTA0M30KICAgIGJ1dHRvbjpkaXNhYmxlZHtiYWNrZ3JvdW5kOiMyMTI2MmQ7Y29sb3I6IzQ4NGY1ODtjdXJzb3I6bm90LWFsbG93ZWR9CiAgICAuaGVhZGVye2JhY2tncm91bmQ6IzE2MWIyMjtwYWRkaW5nOjhweCAxNnB4O2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjEycHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzMwMzYzZH0KICAgIC5kb3R7d2lkdGg6OHB4O2hlaWdodDo4cHg7Ym9yZGVyLXJhZGl1czo1MCU7YmFja2dyb3VuZDojM2ZiOTUwfQogICAgLmRvdC5lcnJ7YmFja2dyb3VuZDojZjg1MTQ5fQogICAgLmRvdC5sb2Fke2JhY2tncm91bmQ6I2QyOTkyMn0KICAgIC5zdGF0dXN7ZmxleDoxO2ZvbnQtc2l6ZToxMnB4O2NvbG9yOiM4Yjk0OWV9CiAgICAuYnRue2JhY2tncm91bmQ6IzIxMjYyZDtjb2xvcjojYzlkMWQ5O2JvcmRlcjoxcHggc29saWQgIzMwMzYzZDtwYWRkaW5nOjZweCAxMnB4O2JvcmRlci1yYWRpdXM6NnB4O2ZvbnQtc2l6ZToxMnB4O2N1cnNvcjpwb2ludGVyfQogICAgLmJ0bjpob3ZlcntiYWNrZ3JvdW5kOiMzMDM2M2R9CiAgICBpZnJhbWV7d2lkdGg6MTAwJTtoZWlnaHQ6Y2FsYygxMDB2aCAtIDQ0cHgpO2JvcmRlcjowO2JhY2tncm91bmQ6I2ZmZn0KICAgIC5lcnJvcntiYWNrZ3JvdW5kOiNmODUxNDkyMjtib3JkZXI6MXB4IHNvbGlkICNmODUxNDk7Y29sb3I6I2Y4NTE0OTtwYWRkaW5nOjEycHg7Ym9yZGVyLXJhZGl1czo2cHg7bWFyZ2luLXRvcDoxMnB4O2ZvbnQtc2l6ZToxM3B4fQogICAgLmxvY2t7Zm9udC1zaXplOjMycHg7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLWJvdHRvbToxNnB4fQogIDwvc3R5bGU+CjwvaGVhZD4KPGJvZHk+CiAgPGRpdiBpZD0ic2V0dXAiIGNsYXNzPSJzZXR1cCI+CiAgICA8ZGl2IGNsYXNzPSJsb2NrIj7wn5SQPC9kaXY+CiAgICA8aDI+RW5jcnlwdGVkIFByZXZpZXc8L2gyPgogICAgPHA+Q29udGVudCBpcyBlbmNyeXB0ZWQuIEVudGVyIHlvdXIgR2lzdCBJRCBhbmQgcGFzc3dvcmQgdG8gdmlldy48L3A+CgogICAgPGxhYmVsPkdpc3QgSUQ8L2xhYmVsPgogICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJnaXN0IiBwbGFjZWhvbGRlcj0iYWJjMTIzZGVmNDU2Li4uIj4KCiAgICA8bGFiZWw+UGFzc3dvcmQ8L2xhYmVsPgogICAgPGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0icGFzcyIgcGxhY2Vob2xkZXI9IkVudGVyIGRlY3J5cHRpb24gcGFzc3dvcmQiPgoKICAgIDxidXR0b24gaWQ9InN0YXJ0QnRuIiBvbmNsaWNrPSJzdGFydCgpIj5EZWNyeXB0ICYgV2F0Y2g8L2J1dHRvbj4KICAgIDxkaXYgaWQ9ImVycm9yIiBjbGFzcz0iZXJyb3IiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvZGl2PgogIDwvZGl2PgoKICA8ZGl2IGlkPSJ2aWV3ZXIiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPgogICAgPGRpdiBjbGFzcz0iaGVhZGVyIj4KICAgICAgPGRpdiBjbGFzcz0iZG90IiBpZD0iZG90Ij48L2Rpdj4KICAgICAgPHNwYW4gY2xhc3M9InN0YXR1cyIgaWQ9InN0YXR1cyI+Q29ubmVjdGluZy4uLjwvc3Bhbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIiBvbmNsaWNrPSJyZWZyZXNoKCkiPlJlZnJlc2g8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIiBvbmNsaWNrPSJzdG9wKCkiPlN0b3A8L2J1dHRvbj4KICAgIDwvZGl2PgogICAgPGlmcmFtZSBpZD0iZnJhbWUiPjwvaWZyYW1lPgogIDwvZGl2PgoKICA8c2NyaXB0PgogICAgbGV0IGdpc3RJZCA9ICcnLCBwYXNzd29yZCA9ICcnLCBsYXN0Q29udGVudCA9ICcnLCBpbnRlcnZhbDsKCiAgICAvLyBDaGVjayBVUkwgcGFyYW1zCiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7CiAgICBpZiAocGFyYW1zLmdldCgnZycpKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2lzdCcpLnZhbHVlID0gcGFyYW1zLmdldCgnZycpOwoKICAgIGFzeW5jIGZ1bmN0aW9uIGRlcml2ZUtleShwYXNzd29yZCwgc2FsdCkgewogICAgICBjb25zdCBlbmMgPSBuZXcgVGV4dEVuY29kZXIoKTsKICAgICAgY29uc3Qga2V5TWF0ZXJpYWwgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleSgKICAgICAgICAncmF3JywgZW5jLmVuY29kZShwYXNzd29yZCksICdQQktERjInLCBmYWxzZSwgWydkZXJpdmVCaXRzJywgJ2Rlcml2ZUtleSddCiAgICAgICk7CiAgICAgIHJldHVybiBjcnlwdG8uc3VidGxlLmRlcml2ZUtleSgKICAgICAgICB7IG5hbWU6ICdQQktERjInLCBzYWx0LCBpdGVyYXRpb25zOiAxMDAwMDAsIGhhc2g6ICdTSEEtMjU2JyB9LAogICAgICAgIGtleU1hdGVyaWFsLAogICAgICAgIHsgbmFtZTogJ0FFUy1HQ00nLCBsZW5ndGg6IDI1NiB9LAogICAgICAgIGZhbHNlLAogICAgICAgIFsnZGVjcnlwdCddCiAgICAgICk7CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gZGVjcnlwdChlbmNyeXB0ZWRCYXNlNjQsIHBhc3N3b3JkKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgZGF0YSA9IFVpbnQ4QXJyYXkuZnJvbShhdG9iKGVuY3J5cHRlZEJhc2U2NCksIGMgPT4gYy5jaGFyQ29kZUF0KDApKTsKCiAgICAgICAgLy8gUGFyc2U6IHNhbHQgKDE2KSArIGl2ICgxMikgKyBhdXRoVGFnICgxNikgKyBjaXBoZXJ0ZXh0CiAgICAgICAgY29uc3Qgc2FsdCA9IGRhdGEuc2xpY2UoMCwgMTYpOwogICAgICAgIGNvbnN0IGl2ID0gZGF0YS5zbGljZSgxNiwgMjgpOwogICAgICAgIGNvbnN0IGF1dGhUYWcgPSBkYXRhLnNsaWNlKDI4LCA0NCk7CiAgICAgICAgY29uc3QgY2lwaGVydGV4dCA9IGRhdGEuc2xpY2UoNDQpOwoKICAgICAgICAvLyBDb21iaW5lIGNpcGhlcnRleHQgKyBhdXRoVGFnIGZvciBXZWIgQ3J5cHRvIChpdCBleHBlY3RzIHRoZW0gdG9nZXRoZXIpCiAgICAgICAgY29uc3QgY29tYmluZWQgPSBuZXcgVWludDhBcnJheShjaXBoZXJ0ZXh0Lmxlbmd0aCArIGF1dGhUYWcubGVuZ3RoKTsKICAgICAgICBjb21iaW5lZC5zZXQoY2lwaGVydGV4dCk7CiAgICAgICAgY29tYmluZWQuc2V0KGF1dGhUYWcsIGNpcGhlcnRleHQubGVuZ3RoKTsKCiAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgZGVyaXZlS2V5KHBhc3N3b3JkLCBzYWx0KTsKICAgICAgICBjb25zdCBkZWNyeXB0ZWQgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRlY3J5cHQoCiAgICAgICAgICB7IG5hbWU6ICdBRVMtR0NNJywgaXYgfSwKICAgICAgICAgIGtleSwKICAgICAgICAgIGNvbWJpbmVkCiAgICAgICAgKTsKCiAgICAgICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShkZWNyeXB0ZWQpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWNyeXB0aW9uIGZhaWxlZCAtIHdyb25nIHBhc3N3b3JkPycpOwogICAgICB9CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbmRSZW5kZXIoKSB7CiAgICAgIGNvbnN0IGRvdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb3QnKTsKICAgICAgY29uc3Qgc3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cycpOwogICAgICBkb3QuY2xhc3NOYW1lID0gJ2RvdCBsb2FkJzsKCiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vZ2lzdHMvJyArIGdpc3RJZCwgewogICAgICAgICAgaGVhZGVyczogeyAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL3ZuZC5naXRodWIudjMranNvbicgfSwKICAgICAgICAgIGNhY2hlOiAnbm8tc3RvcmUnCiAgICAgICAgfSk7CgogICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ0ZldGNoIGZhaWxlZDogJyArIHJlcy5zdGF0dXMpOwoKICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgICBjb25zdCBmaWxlcyA9IGRhdGEuZmlsZXM7CiAgICAgICAgY29uc3QgZW5jcnlwdGVkID0gZmlsZXNbT2JqZWN0LmtleXMoZmlsZXMpWzBdXS5jb250ZW50LnRyaW0oKTsKICAgICAgICBjb25zdCByZXYgPSBkYXRhLmhpc3RvcnlbMF0udmVyc2lvbi5zdWJzdHJpbmcoMCwgNyk7CgogICAgICAgIGlmIChlbmNyeXB0ZWQgIT09IGxhc3RDb250ZW50KSB7CiAgICAgICAgICBsYXN0Q29udGVudCA9IGVuY3J5cHRlZDsKICAgICAgICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICdEZWNyeXB0aW5nLi4uJzsKCiAgICAgICAgICBjb25zdCBodG1sID0gYXdhaXQgZGVjcnlwdChlbmNyeXB0ZWQsIHBhc3N3b3JkKTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcmFtZScpLnNyY2RvYyA9IGh0bWw7CiAgICAgICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSAnVXBkYXRlZCAocmV2OiAnICsgcmV2ICsgJykgJyArIG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICdXYXRjaGluZyAocmV2OiAnICsgcmV2ICsgJykgJyArIG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCk7CiAgICAgICAgfQogICAgICAgIGRvdC5jbGFzc05hbWUgPSAnZG90JzsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGRvdC5jbGFzc05hbWUgPSAnZG90IGVycic7CiAgICAgICAgc3RhdHVzLnRleHRDb250ZW50ID0gJ0Vycm9yOiAnICsgZS5tZXNzYWdlOwogICAgICB9CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gc3RhcnQoKSB7CiAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydEJ0bicpOwogICAgICBjb25zdCBlcnJEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3InKTsKICAgICAgZXJyRGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CgogICAgICBnaXN0SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2lzdCcpLnZhbHVlLnRyaW0oKTsKICAgICAgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzcycpLnZhbHVlOwoKICAgICAgLy8gRXh0cmFjdCBJRCBpZiBmdWxsIFVSTCBwYXN0ZWQKICAgICAgaWYgKGdpc3RJZC5pbmNsdWRlcygnZ2l0aHViLmNvbScpKSBnaXN0SWQgPSBnaXN0SWQuc3BsaXQoJy8nKS5wb3AoKTsKICAgICAgaWYgKGdpc3RJZC5pbmNsdWRlcygnZ2lzdC5naXRodWJ1c2VyY29udGVudCcpKSBnaXN0SWQgPSBnaXN0SWQuc3BsaXQoJy8nKVs0XTsKCiAgICAgIGlmICghZ2lzdElkIHx8ICFwYXNzd29yZCkgewogICAgICAgIGVyckRpdi50ZXh0Q29udGVudCA9ICdQbGVhc2UgZW50ZXIgYm90aCBHaXN0IElEIGFuZCBwYXNzd29yZCc7CiAgICAgICAgZXJyRGl2LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgYnRuLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgYnRuLnRleHRDb250ZW50ID0gJ0Nvbm5lY3RpbmcuLi4nOwoKICAgICAgdHJ5IHsKICAgICAgICAvLyBUZXN0IGZldGNoIGFuZCBkZWNyeXB0CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLmdpdGh1Yi5jb20vZ2lzdHMvJyArIGdpc3RJZCwgewogICAgICAgICAgY2FjaGU6ICduby1zdG9yZScKICAgICAgICB9KTsKICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKCdHaXN0IG5vdCBmb3VuZCcpOwoKICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgICBjb25zdCBlbmNyeXB0ZWQgPSBkYXRhLmZpbGVzW09iamVjdC5rZXlzKGRhdGEuZmlsZXMpWzBdXS5jb250ZW50LnRyaW0oKTsKCiAgICAgICAgLy8gVGVzdCBkZWNyeXB0aW9uCiAgICAgICAgYXdhaXQgZGVjcnlwdChlbmNyeXB0ZWQsIHBhc3N3b3JkKTsKCiAgICAgICAgLy8gU3VjY2VzcyAtIHN3aXRjaCB0byB2aWV3ZXIKICAgICAgICBoaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgJycsICc/Zz0nICsgZ2lzdElkKTsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2V0dXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCiAgICAgICAgZmV0Y2hBbmRSZW5kZXIoKTsKICAgICAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKGZldGNoQW5kUmVuZGVyLCAzMDAwKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGVyckRpdi50ZXh0Q29udGVudCA9IGUubWVzc2FnZTsKICAgICAgICBlcnJEaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgYnRuLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgYnRuLnRleHRDb250ZW50ID0gJ0RlY3J5cHQgJiBXYXRjaCc7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBzdG9wKCkgewogICAgICBjbGVhckludGVydmFsKGludGVydmFsKTsKICAgICAgbGFzdENvbnRlbnQgPSAnJzsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldHVwJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aWV3ZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRCdG4nKS5kaXNhYmxlZCA9IGZhbHNlOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnRCdG4nKS50ZXh0Q29udGVudCA9ICdEZWNyeXB0ICYgV2F0Y2gnOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZnJlc2goKSB7CiAgICAgIGxhc3RDb250ZW50ID0gJyc7CiAgICAgIGZldGNoQW5kUmVuZGVyKCk7CiAgICB9CiAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo=
